<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ title }}</title>
  <link rel="stylesheet" href="/public/style.css">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>SL</text></svg>">
  <link rel="stylesheet" href="/public/style.css">
  <link rel="stylesheet" href="/css/nav.css">
  <link rel="stylesheet" href="/css/footer.css">
  <script href="/script/navscript.js"></script>
   <!--data-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
     <!--data-->
       <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>

  <script defer src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    />
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>

      <script src="/script/navscript.js"></script>
       <!--preloader-->
    <link rel="stylesheet" href="./css/preloader.css">
    <script src="./script/navscript.js"></script>
</head>
<body>
 <!-- partial:index.partial.html -->
     <section class="preloader" id="preloader">
     <div class="loader">
      <div class="loader__bar"></div>
      <div class="loader__bar"></div>
      <div class="loader__bar"></div>
      <div class="loader__bar"></div>
      <div class="loader__bar"></div>
      <div class="loader__ball"></div>
    </div>
  </section>
    <!-- partial --> 
 
  {% include 'header.njk'  %}
 
  <!--<header>
    <div class="search-box">
    <button class="btn-search"><i class="fas fa-search"></i></button>
    <input type="text" class="input-search" placeholder="Type to Search...">
  </div>
<div id="data-display"></div>
      </header>-->
  <main data-aos="fade-up" data-aos-duration="2000" data-aos-delay="500" data-aos-easing="ease-in-out" data-aos-offset="-200">
 
  <div id="data-display"></div>

    {{ content | safe }}
  
  </main>
  {% include 'footer.njk' %}
<script>
    AOS.init({
        once: true, // This option ensures the animation runs only once when the element is revealed.
    });
</script>

  <script>
  if (window.netlifyIdentity) {
    window.netlifyIdentity.on("init", user => {
      if (!user) {
        window.netlifyIdentity.on("login", () => {
          document.location.href = "/admin/";
        });
      }
    });
  }


///////////////////////////////
const itemsPerPage = 4;
// Get the article list and the pagination container
const articleList = document.getElementById("slides-container-li");
const paginationContainer = document.getElementById("pagination");

// Get the number of articles and calculate the number of pages
const numArticles = articleList.children.length;
const numPages = Math.ceil(numArticles / 4);

// Loop through each page and create a pagination button
for (let i = 1; i <= numPages; i++) {
  const button = document.createElement("li");
  const link = document.createElement("a");
  link.href = "#";
  link.textContent = i;
  button.appendChild(link);
  paginationContainer.appendChild(button);

  // Add an event listener to the button that shows the corresponding articles
  button.addEventListener("click", () => {
    // Hide all articles
    for (let j = 0; j < numArticles; j++) {
      articleList.children[j].style.display = "none";
    }

    // Show the articles for the current page
    const startIndex = (i - 1) * 4;
    const endIndex = Math.min(startIndex + 4, numArticles);
    for (let j = startIndex; j < endIndex; j++) {
      articleList.children[j].style.display = "block";
    }

    // Update the active class for the pagination buttons
    const activeButton = document.querySelector(".pagination li.active");
    if (activeButton) {
      activeButton.classList.remove("active");
    }
    button.classList.add("active");
  });
}

// Show the first page of articles and set the first pagination button as active
for (let i = 0; i < 4 && i < numArticles; i++) {
  articleList.children[i].style.display = "block";
}
paginationContainer.children[0].classList.add("active");
window.onload = function exampleFunction() {
  button.classList.add("active");
};



let items = document.querySelectorAll('.article-section');
let pagination = paginate(items, 1, 4);

let listContainer = document.getElementById('slides-container-li');

pagination.data.forEach((item) => {
  listContainer.appendChild(item);
});
const wrapper = document.querySelector('.articles-wrapper');
const articles = wrapper.querySelectorAll('section');

for (let i = 4; i < articles.length; i++) {
  articles[i].classList.add('hidden');
}






/////////////
//////////////////////////////////
////////////////////////////////////////nav sticky/////////////
document.addEventListener("DOMContentLoaded", function () {
  var nav = document.getElementById("nav");
  var current_pos = nav.offsetTop;
  window.onscroll = function () {
    var window_pos = document.documentElement.scrollTop;
    if (window_pos >= current_pos) {
      nav.classList.add("sticky");
    } else {
      nav.classList.remove("sticky");
    }
  };
});
 </script>

<script href="/script/article.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
    AOS.init();
    </script>

</body>
</html>